<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Voice Initiative</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="robots" content="noindex, nofollow">
    <!-- Make the app run in full-screen mode if saved to iOS home screen. -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="images/d20-black-whitebg.svg">
    <!-- <link rel="apple-touch-startup-image" href="path/to/startup-image.png"> -->
    <link rel="icon" type="image/svg" href="images/d20-black-whitebg.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
    href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Babylonica&family=Bilbo+Swash+Caps&family=Caveat:wght@400;500;600;700&family=Comforter&family=Condiment&family=Dawning+of+a+New+Day&family=East+Sea+Dokdo&family=Fuggles&family=Grape+Nuts&family=Homemade+Apple&family=Inspiration&family=Julee&family=Just+Me+Again+Down+Here&family=Kolker+Brush&family=La+Belle+Aurore&family=Liu+Jian+Mao+Cao&family=Long+Can&family=Nanum+Brush+Script&family=Nothing+You+Could+Do&family=Oooh+Baby&family=Over+the+Rainbow&family=Permanent+Marker&family=Qwitcher+Grypen:wght@400;700&family=Reenie+Beanie&family=Rock+Salt&family=Ruthie&family=Sassy+Frass&family=Sedgwick+Ave&family=Shalimar&family=Smooch&family=Splash&family=Square+Peg&family=Swanky+and+Moo+Moo&family=Vujahday+Script&family=Waiting+for+the+Sunrise&family=Walter+Turncoat&family=Whisper&display=swap"
    rel="stylesheet">
    <script src="https://kit.fontawesome.com/d1a29cf881.js" crossorigin="anonymous"></script>
    <!-- Link to local CSS files -->
    <link rel="stylesheet" type="text/css" href="main.css">
    <link rel="stylesheet" type="text/css" href="./slideshow/slideshow.css">

    <!-- Link to the local JavaScript file -->
    <script type="text/javascript" src="scripts/main.js"></script>
</head>

<body class="no-mic"> <!-- Initially set to "no-mic", but may update via JS -->
    <div id="canvas-slideshow" class="canvas will-fade-in">
        <!-- To be populated via AJAX -->
    </div>
    <div id="canvas-initiative" class="canvas will-fade-in">

        <div class="header-menu">
            <button id="settingsMenuOpenBtn" class="btn header-menu-btn  settings-menu-closed-ui">
                <i class="fas fa-ellipsis"></i>
            </button>
            <button id="settingsMenuReturnBtn" class="btn header-menu-btn  settings-menu-open-ui">
                <i class="fas fa-arrow-left"></i>
            </button>
            <button id="refreshPageBtn" class="btn header-menu-btn  settings-menu-open-ui">
                <i class="fas fa-refresh"></i>
            </button>
            <a id="sceneBtn" class="btn header-menu-btn next-slide">
                <i class="fas fa-image"></i>
            </a>
        </div>

        <!-- Settings Menu -->
        <div class="settings-menu hide-right">
            <div class="settings-menu-inner">
                <h1 class="title">Voice Initiative<br/><sub><em>by orcnog</em></sub></h1>
                
                <div class="settings-menu-group">
                    <label class="settings-label">Copy Initiative Link to Clipboard</label>
                    <div class="settings-input">
                        <button id="copyQueryStringToClipboard" class="btn btn-alt">
                            <i class="fas fa-link"></i>
                        </button>
                    </div>
                </div>
                <div class="settings-menu-group">
                    <label class="settings-label">Paste and Load Initiative URL</label>
                    <div class="settings-input">
                        <div class="button-group button-group">
                            <input id="pastedInitiativeUrl" class="input-text" type="text"/><button id="initiativeUrlPasteAndGo" class="btn btn-alt">↺</button>
                        </div>
                    </div>
                </div>
                
                <div class="settings-menu-group toggle-full-screen-menu-group">
                    <label class="settings-label">Full Screen</label>
                    <div class="settings-input">
                        <input id="toggleFullScreenBtn" type="checkbox" />
                    </div>
                </div>
                <div class="settings-menu-group">
                    <label class="settings-label">Theme</label>
                    <div class="settings-input">
                        <select id="selectTheme"></select>
                    </div>
                </div>
                <div class="settings-menu-group">
                    <label class="settings-label">Live Text</label>
                    <div class="settings-input">
                        <input id="toggleLiveText" type="checkbox" />
                    </div>
                </div>
                <div class="settings-menu-group">
                    <label class="settings-label">App Scale</label>
                    <div class="settings-input">
                        <div class="button-group button-group-number-bump">
                            <button id="decrAppScale" class="btn">-</button>
                            <input id="appScalePref" class="input-number-bump" value="2" type="number" />
                            <button id="incrAppScale" class="btn">+</button>
                        </div>
                    </div>
                </div>
                <div class="settings-menu-group">
                    <label class="settings-label">Brightness</label>
                    <div class="settings-input">
                        <div class="button-group button-group-number-bump">
                            <button id="decrBrightness" class="btn">-</button>
                            <input id="brightnessPref" class="input-number-bump" value="1" type="number" />
                            <button id="incrBrightness" class="btn">+</button>
                        </div>
                    </div>
                </div>
                <div class="settings-menu-group">
                    <label class="settings-label">Font Size</label>
                    <div class="settings-input">
                        <div class="button-group button-group-number-bump">
                            <button id="decrFontSize" class="btn">-</button>
                            <input id="fontSizePref" class="input-number-bump" value="1" type="number" />
                            <button id="incrFontSize" class="btn">+</button>
                        </div>
                    </div>
                </div>
                <p class="lorem-ipsum">Lorem Ipsum</p>
                <div class="settings-menu-group">
                    <label class="settings-label">Font</label>
                    <div class="settings-input">
                        <select id="selectFont"></select>
                    </div>
                </div>
                <div class="settings-menu-group">
                    <label class="settings-label">Chalkiness Adjust</label>
                    <div class="settings-input">
                        <div class="button-group button-group-number-bump">
                            <button id="decrChalkiness" class="btn">-</button>
                            <input id="chalkinessPref" class="input-number-bump" value="0.75" type="number" />
                            <button id="incrChalkiness" class="btn">+</button>
                        </div>
                    </div>
                </div>
                <div class="settings-menu-group">
                    <label class="settings-label">Slideshow Configuration</label>
                    <div class="settings-input">
                        <button id="openSlideshowMenu" class="btn"><i class="fas fas fa-ellipsis"></i></button>
                    </div>
                </div>
                <div class="settings-menu-group event-log">
                    <label class="settings-label">Console Log</label>
                    <p id="eventlog"></p>
                </div>
            </div>
        </div>

        <!-- Slideshow Configurator Menu -->
        <div id="slideshowMenu" class="settings-sub-menu hide-right">
            <div class="settings-menu-inner">
                <h2 class="title">Slideshow Configurator</h2>
                
                <div class="settings-menu-group">
                    <label class="settings-label">Slideshow</label>
                    <div class="settings-input">
                        <select id="selectSlideshow">
                            <option value="">None</option>
                        </select>
                    </div>
                </div>
                <div class="settings-menu-group hidden-if-previous-group-not-active">
                    <label class="settings-label">Next Slide to Show</label>
                    <div class="settings-input">
                        <select id="slideshowNextSlide">
                        </select>
                    </div>
                </div>
                <div class="settings-menu-group settings-menu-grow">
                    <label class="settings-label">Homebrew Slideshow Configuration</label>
                    <div class="settings-input">
                        <textarea id="homebrewSlideshowJSON" class="white-space-pre">{
  "awesome-homebrew-slideshow": {
    "name": "My Rad Slideshow",
    "exoticfont": "Elvish",
    "scenes": [
      {
        "image": "https://i.pinimg.com/736x/ea/9d/2f/ea9d2fcc94de453d03a3a488c9d7fde3.jpg",
        "caption": "The Celestial Citadel",
        "subcap": "Somewhere near the Spine of the World"
      },
      {
        "image": "https://static1.thegamerimages.com/wordpress/wp-content/uploads/2024/03/the-gamer-cover-images-22.jpg",
        "caption": "The Lionshield Coster",
        "subcap": "Phandalin, Sword Coast"
      }
    ]
  }
}</textarea>
                        <button id="homebrewSlideshowSave" class="btn btn-alt">Save to cookie</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Experimental / debugging utility... hidden -->
        <p class="interim-output" id="interimOutput"><span id="finalTranscript"></span> <span id="interimTranscript"></span></p>

        <div class="main">
            <button id="clearAll" class="clear-all btn btn-clear players-listed-ui">✕</button>
            <form action="#" style="display:none;"><input id="testInput" type="text" placeholder="test input" /></form>
            <!--<div id="startDictation" class="gn" tabindex="0"><div class="mc"></div></div>-->
            <div class="pre-mic microphone-msg">
                <p>Tap the mic to enable microphone on your device</p>
            </div>
            <div class="post-mic microphone-msg">
                <p>Tap the mic button to turn the mic on. Speak initiative rolls. Ex: "Grog 17, Scanlan 12"</p>
            </div>
            <div class="denied-mic microphone-msg">
                <p>Microphone access denied. Please REFRESH the page or use manual entry.</p>
            </div>
                
            <div class="players">
                <div id="roundCounter" class="round-counter">
                    <span class="round-label">Round&nbsp;</span>
                    <!-- will be populated dynamically with: <div class="round-tally" data-marks="0"></div> -->
                </div>
                <div class="prev-next-btns">
                    <button id="prevTurn" class="previous-turn btn btn-clear active-turn-ui"><i
                        class="fas fa-chevron-left" aria-hidden="true"></i></button>
                    <button id="nextTurn" class="advance-turn btn btn-clear  active-turn-ui"><i
                        class="fas fa-chevron-right" aria-hidden="true"></i></button>
                    
                </div>
                <ul id="entries">
                    <!-- will be populated dynamically -->
                </ul>
                <button id="addPlayer" class="add-a-player btn btn-clear">+</button>
            </div>
            <div class="button-group">
                <div id="startDictation">
                    <i class="fa-solid fa-microphone"></i>
                </div>
            </div>
            <button id="startButton" class="btn no-active-turn-ui players-listed-ui">Start</button>
            <form id="speechForm" class="" action="">
                <input id="speechInput" class="speech-input" type="text"
                data-focused-placeholder="⇣ Dictate with voice key, then press ↵" placeholder="Ex: Grog 13, Pike 7" />
            </form>
        </div>
    </div>
</body>
</html>